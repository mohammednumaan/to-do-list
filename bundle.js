(()=>{"use strict";function e(){localStorage.setItem("project",JSON.stringify(o))}function t(){let e=JSON.parse(localStorage.getItem("project"))||[];return console.log(e),o=e,o}class n{constructor(e){this.name=e,this.todos=[]}addTask(t){this.todos.push(t),e()}removeTask(t){this.todos=this.todos.filter((e=>e.title!==t)),e()}}new n("DEFAULT");let o=[];class d{constructor(e,t,n,o,d){this.title=e,this.desc=t,this.date=n,this.priority=o,this.project=d}}Array.from(document.querySelectorAll(".project-div"));const l=document.querySelector(".sidebar-container"),i=document.querySelector(".main-screen-container"),a=document.querySelector(".add-project");function c(t){let d;o.includes(t)?(console.log("if"),d=new n(t.name)):(console.log("else"),d=new n(t.value),o.push(d)),e();const a=document.createElement("div");a.classList.add("project-div");const c=document.createElement("h2");c.classList.add("project-name"),c.id=o.indexOf(t);const r=document.createElement("button");r.classList.add("button-add"),r.setAttribute("type","button");const p=document.createElement("div");p.classList.add("new-div"),p.appendChild(r),a.appendChild(c),a.appendChild(p),i.appendChild(a),c.innerText=d.name,r.textContent="ADD TASK +",a.id=c.id,a.style.display="none",function(e,t,n){const o=document.createElement("div"),d=document.createElement("h2");o.appendChild(d),l.appendChild(o),d.classList.add("project-title"),d.classList.add("project-title-hover"),d.innerText=e.name,o.appendChild(d),l.appendChild(o),d.addEventListener("click",(()=>{!function(e,t){e=Array.from(document.querySelectorAll(".project-div"));for(let n=0;n<e.length;n++)console.log(t.id),e[n].id===t.id?e[n].style.display="block":e[n].style.display="none"}(t,n)}))}(d,c,a),r.addEventListener("click",(()=>{d.name==t.name?(console.log("if again"),s(t)):(console.log("else again"),s(d))}))}function s(t){const n=document.createElement("form");n.classList.add("todo-form");let l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("id","new-task");const a=document.createElement("label");a.setAttribute("for","new-task"),a.textContent="Title Of Your Task";let c=document.createElement("textarea");l.setAttribute("id","new-desc"),l.required=!0;const s=document.createElement("label");s.setAttribute("for","new-desc"),s.textContent="Description Of Your Task";let p=document.createElement("input");p.setAttribute("type","date"),p.setAttribute("id","task-date"),l.required=!0;const u=document.createElement("label");u.textContent="DUE-DATE Of Your Task",u.setAttribute("for","task-date");let m=document.createElement("select");m.setAttribute("id","priority"),l.required=!0;const C=document.createElement("label");C.setAttribute("for","priority"),C.textContent="Priority Of Your Task";const h=document.createElement("option");h.setAttribute("name","Low Priority"),h.textContent="Low",m.appendChild(h);const b=document.createElement("option");b.setAttribute("name","Medium Priority"),b.textContent="Medium",m.appendChild(b);const E=document.createElement("option");E.setAttribute("name","High Priority"),E.textContent="High",m.appendChild(E);const f=document.createElement("button");f.setAttribute("type","button"),f.classList.add("add"),f.textContent="ADD +",n.appendChild(a),n.appendChild(l),n.appendChild(s),n.appendChild(c),n.appendChild(u),n.appendChild(p),n.appendChild(C),n.appendChild(m),n.appendChild(f),i.appendChild(n),f.addEventListener("click",(()=>{r(function(t,n,l,i,a){let c;for(let s=0;s<o.length;s++)return"title"in a.todos?(console.log("not-push"),c=new d(t,n,l,i,a.name),e(),console.log(a)):(console.log("push"),c=new d(t,n,l,i,a.name),a.todos.push(c),e(),console.log(a)),c}(l.value,c.value,p.value,m.value,t),t),n.reset(),n.style.display="none"}))}function r(t,n){const l=document.createElement("div");l.classList.add("task-div");const a=document.createElement("ul");l.appendChild(a);const c=document.createElement("li");a.appendChild(c);const s=document.createElement("h2");s.textContent=t.title,c.appendChild(s);const r=document.createElement("p");r.textContent=t.desc,l.appendChild(r);const p=document.createElement("p");p.textContent=`${t.date}`,l.appendChild(p);const u=document.createElement("p");u.textContent=`${t.priority}`,l.appendChild(u);const m=document.createElement("button");m.setAttribute("type","button"),m.classList.add("delete-button"),m.textContent="Delete prj Task",l.appendChild(m);const C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("edit-button"),C.textContent="Edit prj Task",C.classList.add("edit-task-button"),l.appendChild(C);const h=document.createElement("button");h.setAttribute("type","button"),h.classList.add("complete-button"),h.textContent="Completed!",l.appendChild(h),m.addEventListener("click",(()=>{n.todos=n.todos.filter((e=>e.title!==t.title));for(let e=0;e<b.length;e++)b[e].id==l.id&&b[e].removeChild(l);localStorage.removeItem("project"),e(),console.log(o)})),C.addEventListener("click",(()=>{!function(t,n,l,i,a,c,s,r,p,u,m,C){r.innerHTML="";let h=document.createElement("form");h.classList.add("edit-form"),r.appendChild(h);let b=document.createElement("label");b.textContent="Title",b.setAttribute("for","editTitle"),h.appendChild(b);let E=document.createElement("input");E.setAttribute("type","text"),E.setAttribute("id","editLabel"),E.value=t.title,h.appendChild(E);let f=document.createElement("label");f.textContent="Description",f.setAttribute("for","editDesc"),h.appendChild(f);let y=document.createElement("textarea");y.textContent=t.desc,h.appendChild(y);let g=document.createElement("label");g.textContent="Due-Date",g.setAttribute("for","editDate"),h.appendChild(g);let x=document.createElement("input");x.setAttribute("type","date"),x.value=t.date,h.appendChild(x);let A=document.createElement("label");A.textContent="Priority",A.setAttribute("for","editPrior"),h.appendChild(A);let v=document.createElement("select"),L=document.createElement("option");L.setAttribute("name","Low"),L.textContent="Low",v.appendChild(L);let k=document.createElement("option");k.setAttribute("name","Medium"),k.textContent="Medium",v.appendChild(k);let T=document.createElement("option");T.setAttribute("name","High Priority"),T.textContent="High",v.appendChild(T),v.value=t.priority,h.appendChild(v);let w=document.createElement("button");w.textContent="Update Task",w.type="button",h.appendChild(w),w.addEventListener("click",(()=>{h.style.display="none",l.children[0].textContent=E.value,l.appendChild(l.children[0]),i.appendChild(l),r.appendChild(i),u.textContent=y.value,r.appendChild(u),m.textContent=x.value,r.appendChild(m),C.textContent=v.value,r.appendChild(C),r.appendChild(a),r.appendChild(c),r.appendChild(s),function(e,t,n,l,i,a){console.log(i),console.log(a);let c=new d(e,t,n,l,i.project),s=i,r=a.todos.indexOf(s);a.todos.splice(r,1,c),console.log(o)}(E.value,y.value,x.value,v.value,t,n),e()}))}(t,n,c,a,m,C,h,l,0,r,p,u),console.log(n)})),h.addEventListener("click",(()=>{var t,n,o;t=r,n=p,o=u,s.classList.toggle("line"),t.classList.toggle("line"),n.classList.toggle("line"),o.classList.toggle("line"),s.classList.contains("line")?(h.textContent="Not Completed!",h.style.backgroundColor="#db3a34"):(h.textContent="Completed!",h.style.backgroundColor="green"),e()}));let b=Array.from(i.children);for(let e=0;e<b.length;e++)l.id=Number(b.indexOf(b[e])),b[e].id=l.id,b[e].id==l.id&&b[e].appendChild(l)}t(),window.onload=t(),function(){let e=o;for(let t=0;t<e.length;t++){c(e[t]);for(let n=0;n<e[t].todos.length;n++)r(e[t].todos[n],e[t])}}(),a.addEventListener("click",(()=>{!function(){const e=document.createElement("form");e.classList.add("project-form");const t=document.createElement("label");t.setAttribute("for","new-project");const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","new-project");const o=document.createElement("button");o.setAttribute("type","button"),o.textContent="CREATE PROJECT",t.textContent="TITLE",e.appendChild(t),e.appendChild(n),e.appendChild(o),l.appendChild(e),o.addEventListener("click",(()=>{c(n),e.reset(),e.style.display="none"}))}()}))})();