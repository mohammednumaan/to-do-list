(()=>{"use strict";function e(){localStorage.setItem("project",JSON.stringify(o))}function t(){let e=JSON.parse(localStorage.getItem("project"))||[];return console.log(e),o=e,o}class n{constructor(e){this.name=e,this.todos=[]}addTask(t){this.todos.push(t),e()}removeTask(t){this.todos=this.todos.filter((e=>e.title!==t)),e()}}new n("DEFAULT");let o=[];class d{constructor(e,t,n,o,d){this.title=e,this.desc=t,this.date=n,this.priority=o,this.project=d}}const l=document.querySelector(".sidebar-container"),i=document.querySelector(".main-screen-container"),a=(document.querySelector(".container"),document.querySelector(".add-project")),c=document.createElement("div");function s(t){let d;o.includes(t)?(console.log("if"),d=new n(t.name)):(console.log("else"),d=new n(t.value),o.push(d)),e(),c.classList.add("project-div");const i=document.createElement("h2");i.classList.add("project-name"),i.id=o.indexOf(t);const a=document.createElement("button");a.classList.add("button-add"),a.setAttribute("type","button");const s=document.createElement("div");s.classList.add("new-div"),s.appendChild(a),c.appendChild(i),c.appendChild(s),i.innerText=d.name,a.textContent="ADD TASK +",c.id=i.id,c.style.display="none",function(e,t){const n=document.createElement("div"),o=document.createElement("h2");n.appendChild(o),l.appendChild(n),o.classList.add("project-title"),o.classList.add("project-title-hover"),o.innerText=e.name,n.appendChild(o),l.appendChild(n),o.addEventListener("click",(()=>{!function(e,t){e=Array.from(document.querySelectorAll(".project-div"));for(let n=0;n<e.length;n++)console.log(t.id),e[n].id===t.id?e[n].style.display="block":e[n].style.display="none"}(t,c)}))}(d,i),a.addEventListener("click",(()=>{d.name==t.name?(console.log("if again"),r(t)):(console.log("else again"),r(d))}))}function r(t,n){const l=document.createElement("form");l.classList.add("todo-form");let a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("id","new-task");const s=document.createElement("label");s.setAttribute("for","new-task"),s.textContent="Title Of Your Task";let r=document.createElement("textarea");a.setAttribute("id","new-desc"),a.required=!0;const u=document.createElement("label");u.setAttribute("for","new-desc"),u.textContent="Description Of Your Task";let m=document.createElement("input");m.setAttribute("type","date"),m.setAttribute("id","task-date"),a.required=!0;const C=document.createElement("label");C.textContent="DUE-DATE Of Your Task",C.setAttribute("for","task-date");let h=document.createElement("select");h.setAttribute("id","priority"),a.required=!0;const b=document.createElement("label");b.setAttribute("for","priority"),b.textContent="Priority Of Your Task";const E=document.createElement("option");E.setAttribute("name","Low Priority"),E.textContent="Low",h.appendChild(E);const y=document.createElement("option");y.setAttribute("name","Medium Priority"),y.textContent="Medium",h.appendChild(y);const f=document.createElement("option");f.setAttribute("name","High Priority"),f.textContent="High",h.appendChild(f);const g=document.createElement("button");g.setAttribute("type","button"),g.classList.add("add"),g.textContent="ADD +",l.appendChild(s),l.appendChild(a),l.appendChild(u),l.appendChild(r),l.appendChild(C),l.appendChild(m),l.appendChild(b),l.appendChild(h),l.appendChild(g),i.appendChild(l),g.addEventListener("click",(()=>{p(function(t,n,l,i,a){let c;for(let s=0;s<o.length;s++)return console.log(s),"title"in a.todos?(console.log("not-push"),c=new d(t,n,l,i,a.name),e(),console.log(a)):(console.log("push"),c=new d(t,n,l,i,a.name),a.todos.push(c),e(),console.log(a)),c}(a.value,r.value,m.value,h.value,t),t,c),l.reset(),l.style.display="none"}))}function p(t,n,l){const i=document.createElement("div");i.classList.add("task-div");const a=document.createElement("ul");i.appendChild(a);const c=document.createElement("li");a.appendChild(c);const s=document.createElement("h2");s.textContent=t.title,c.appendChild(s);const r=document.createElement("p");r.textContent=t.desc,i.appendChild(r);const p=document.createElement("p");p.textContent=`${t.date}`,i.appendChild(p);const u=document.createElement("p");u.textContent=`${t.priority}`,i.appendChild(u);const m=document.createElement("button");m.setAttribute("type","button"),m.classList.add("delete-button"),m.textContent="Delete prj Task",i.appendChild(m);const C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("edit-button"),C.textContent="Edit prj Task",C.classList.add("edit-task-button"),i.appendChild(C),l.appendChild(i);const h=document.createElement("button");h.setAttribute("type","button"),h.classList.add("complete-button"),h.textContent="Completed!",i.appendChild(h),e(),m.addEventListener("click",(d=>{n.todos=n.todos.filter((e=>e.title!==t.title)),l.removeChild(d.target.parentElement),localStorage.removeItem("project"),e(),console.log(o)})),C.addEventListener("click",(()=>{!function(t,n,l,i,a,c,s,r,p,u,m,C){r.innerHTML="";let h=document.createElement("form");h.classList.add("edit-form"),r.appendChild(h);let b=document.createElement("label");b.textContent="Title",b.setAttribute("for","editTitle"),h.appendChild(b);let E=document.createElement("input");E.setAttribute("type","text"),E.setAttribute("id","editLabel"),E.value=t.title,h.appendChild(E);let y=document.createElement("label");y.textContent="Description",y.setAttribute("for","editDesc"),h.appendChild(y);let f=document.createElement("textarea");f.textContent=t.desc,h.appendChild(f);let g=document.createElement("label");g.textContent="Due-Date",g.setAttribute("for","editDate"),h.appendChild(g);let x=document.createElement("input");x.setAttribute("type","date"),x.value=t.date,h.appendChild(x);let A=document.createElement("label");A.textContent="Priority",A.setAttribute("for","editPrior"),h.appendChild(A);let v=document.createElement("select"),L=document.createElement("option");L.setAttribute("name","Low"),L.textContent="Low",v.appendChild(L);let k=document.createElement("option");k.setAttribute("name","Medium"),k.textContent="Medium",v.appendChild(k);let T=document.createElement("option");T.setAttribute("name","High Priority"),T.textContent="High",v.appendChild(T),v.value=t.priority,h.appendChild(v);let w=document.createElement("button");w.textContent="Update Task",w.type="button",h.appendChild(w),w.addEventListener("click",(()=>{h.style.display="none",l.children[0].textContent=E.value,l.appendChild(l.children[0]),i.appendChild(l),r.appendChild(i),u.textContent=f.value,r.appendChild(u),m.textContent=x.value,r.appendChild(m),C.textContent=v.value,r.appendChild(C),r.appendChild(a),r.appendChild(c),r.appendChild(s),function(e,t,n,l,i,a){console.log(i),console.log(a);let c=new d(e,t,n,l,i.project),s=i,r=a.todos.indexOf(s);a.todos.splice(r,1,c),console.log(o)}(E.value,f.value,x.value,v.value,t,n),e()}))}(t,n,c,a,m,C,h,i,0,r,p,u),console.log(n)})),h.addEventListener("click",(()=>{var t,n,o;t=r,n=p,o=u,s.classList.toggle("line"),t.classList.toggle("line"),n.classList.toggle("line"),o.classList.toggle("line"),s.classList.contains("line")?(h.textContent="Not Completed!",h.style.backgroundColor="#db3a34"):(h.textContent="Completed!",h.style.backgroundColor="green"),e()}))}i.appendChild(c),t(),window.onload=t(),function(){let e=o;for(let t=0;t<e.length;t++){s(e[t]);for(let n=0;n<e[t].todos.length;n++)p(e[t].todos[n],e[t],c)}}(),a.addEventListener("click",(()=>{!function(){const e=document.createElement("form");e.classList.add("project-form");const t=document.createElement("label");t.setAttribute("for","new-project");const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","new-project");const o=document.createElement("button");o.setAttribute("type","button"),o.textContent="CREATE PROJECT",t.textContent="TITLE",e.appendChild(t),e.appendChild(n),e.appendChild(o),l.appendChild(e),o.addEventListener("click",(()=>{s(n),e.reset(),e.style.display="none"}))}()}))})();