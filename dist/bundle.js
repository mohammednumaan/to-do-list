(()=>{"use strict";function t(){localStorage.setItem("project",JSON.stringify(n)),localStorage.setItem("todo",JSON.stringify(n))}class e{constructor(t){this.name=t,this.todos=[]}addTask(e){this.todos.push(e),t()}removeTask(e){this.todos=this.todos.filter((t=>t.title!==e)),t()}}new e("DEFAULT");let n=[];class o{constructor(t,e,n,o,d){this.title=t,this.desc=e,this.date=n,this.priority=o,this.project=d}}const d=document.querySelector(".sidebar-container"),l=document.querySelector(".main-screen-container"),i=(document.querySelector(".container"),document.querySelector(".add-project"));function a(o){let i;n.includes(o)?(console.log("if"),i=new e(o.name)):(console.log("else"),i=new e(o.value),n.push(i)),t();const a=document.createElement("div");a.classList.add("project-div");const s=document.createElement("h2");s.classList.add("project-name"),s.id=n.indexOf(o);const r=document.createElement("button");r.classList.add("button-add"),r.setAttribute("type","button");const p=document.createElement("div");p.classList.add("new-div"),l.appendChild(a),p.appendChild(r),a.appendChild(s),a.appendChild(p),s.innerText=i.name,r.textContent="ADD TASK +",a.id=s.id,a.style.display="none",function(t,e,n){const o=document.createElement("div"),l=document.createElement("h2");o.appendChild(l),d.appendChild(o),l.classList.add("project-title"),l.classList.add("project-title-hover"),l.innerText=t.name,o.appendChild(l),d.appendChild(o),l.addEventListener("click",(()=>{!function(t,e){t=Array.from(document.querySelectorAll(".project-div"));for(let n=0;n<t.length;n++)console.log(e.id),t[n].id===e.id?t[n].style.display="block":t[n].style.display="none"}(e,n)}))}(i,a,s),r.addEventListener("click",(()=>{i.name==o.name?(console.log("if again"),c(o,a)):(console.log("else again"),c(i,a))}))}function c(e,d){const i=document.createElement("form");i.classList.add("todo-form");let a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("id","new-task");const c=document.createElement("label");c.setAttribute("for","new-task"),c.textContent="Title Of Your Task";let s=document.createElement("textarea");a.setAttribute("id","new-desc"),a.required=!0;const r=document.createElement("label");r.setAttribute("for","new-desc"),r.textContent="Description Of Your Task";let p=document.createElement("input");p.setAttribute("type","date"),p.setAttribute("id","task-date"),a.required=!0;const u=document.createElement("label");u.textContent="DUE-DATE Of Your Task",u.setAttribute("for","task-date");let m=document.createElement("select");m.setAttribute("id","priority"),a.required=!0;const C=document.createElement("label");C.setAttribute("for","priority"),C.textContent="Priority Of Your Task";const h=document.createElement("option");h.setAttribute("name","Low Priority"),h.textContent="Low",m.appendChild(h);const b=document.createElement("option");b.setAttribute("name","Medium Priority"),b.textContent="Medium",m.appendChild(b);const E=document.createElement("option");E.setAttribute("name","High Priority"),E.textContent="High",m.appendChild(E);const x=document.createElement("button");x.setAttribute("type","button"),x.classList.add("add"),x.textContent="ADD +",i.appendChild(c),i.appendChild(a),i.appendChild(r),i.appendChild(s),i.appendChild(u),i.appendChild(p),i.appendChild(C),i.appendChild(m),i.appendChild(x),l.appendChild(i),x.addEventListener("click",(()=>{!function(e,d,i,a,c,s){let r;e.todos.includes(e.todos.title)?(r=new o(d,i,a,c,e.name),t()):(r=new o(d.value,i.value,a.value,c.value,e.name),e.todos.push(r),t()),localStorage.setItem("project",JSON.stringify(n)),console.log(e);const p=document.createElement("div");p.classList.add("task-div");const u=document.createElement("ul");p.appendChild(u);const m=document.createElement("li");u.appendChild(m);const C=document.createElement("h2");C.textContent=r.title,m.appendChild(C);const h=document.createElement("p");h.textContent=`${r.desc}`,p.appendChild(h);const b=document.createElement("p");b.textContent=`${r.date}`,p.appendChild(b);const E=document.createElement("p");E.textContent=`${r.priority}`,p.appendChild(E);const x=document.createElement("button");x.setAttribute("type","button"),x.classList.add("delete-button"),x.textContent="Delete projectN Task",p.appendChild(x);const y=document.createElement("button");y.setAttribute("type","button"),y.classList.add("edit-button"),y.textContent="Edit projectN Task",y.classList.add("edit-task-button"),p.appendChild(y),l.appendChild(p);const f=document.createElement("button");f.setAttribute("type","button"),f.classList.add("complete-button"),f.textContent="Completed!",p.appendChild(f),t(),x.addEventListener("click",(o=>{e.todos=e.todos.filter((t=>t.title!==r.title)),s.removeChild(o.target.parentElement),localStorage.removeItem("project"),t(),console.log(n)})),y.addEventListener("click",(()=>{!function(e,d,l,i,a,c,s,r,p,u,m,C){e.innerHTML="";let h=document.createElement("form");h.classList.add("edit-form"),e.appendChild(h);let b=document.createElement("label");b.textContent="Title",b.setAttribute("for","editTitle"),h.appendChild(b);let E=document.createElement("input");E.setAttribute("type","text"),E.setAttribute("id","editLabel"),E.value=d.textContent,h.appendChild(E);let x=document.createElement("label");x.textContent="Description",x.setAttribute("for","editDesc"),h.appendChild(x);let y=document.createElement("textarea");y.textContent=l.textContent,h.appendChild(y);let f=document.createElement("label");f.textContent="Due-Date",f.setAttribute("for","editDate"),h.appendChild(f);let A=document.createElement("input");A.setAttribute("type","date"),A.value=i.textContent,h.appendChild(A);let g=document.createElement("label");g.textContent="Priority",g.setAttribute("for","editPrior"),h.appendChild(g);let v=document.createElement("select"),L=document.createElement("option");L.setAttribute("name","Low"),L.textContent="Low",v.appendChild(L);let k=document.createElement("option");k.setAttribute("name","Medium"),k.textContent="Medium",v.appendChild(k);let T=document.createElement("option");T.setAttribute("name","High Priority"),T.textContent="High",v.appendChild(T),v.value=a.textContent,h.appendChild(v);let w=document.createElement("button");w.textContent="Update Task",w.type="button",h.appendChild(w),w.addEventListener("click",(()=>{h.style.display="none",d.textContent=E.value,c.appendChild(d),s.appendChild(c),e.appendChild(s),l.textContent=y.value,e.appendChild(l),i.textContent=A.value,e.appendChild(i),a.textContent=v.value,e.appendChild(a),e.appendChild(r),e.appendChild(p),e.appendChild(u),function(t,e,d,l,i,a){let c=new o(t,e,d,l,i.project),s=i,r=a.todos.indexOf(s);a.todos.splice(r,1,c),console.log(n)}(E.value,y.value,A.value,v.value,m,C),t()}))}(p,C,h,b,E,m,u,x,y,f,r,e)})),f.addEventListener("click",(()=>{!function(t,e,n,o){t.classList.toggle("line"),e.classList.toggle("line"),n.classList.toggle("line"),o.classList.toggle("line")}(C,h,b,E),C.classList.contains("line")?(f.textContent="Not Completed!",f.style.backgroundColor="#db3a34"):(f.textContent="Completed!",f.style.backgroundColor="green"),t()}))}(e,a,s,p,m,d),i.reset(),i.style.display="none"}))}!function(){let t=JSON.parse(localStorage.getItem("project"))||[];console.log(t),n=t}(),window.onload=function(){for(let t=0;t<n.length;t++)a(n[t]),console.log(n[t].todos[t].title)}(),i.addEventListener("click",(()=>{!function(){const t=document.createElement("form");t.classList.add("project-form");const e=document.createElement("label");e.setAttribute("for","new-project");const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","new-project");const o=document.createElement("button");o.setAttribute("type","button"),o.textContent="CREATE PROJECT",e.textContent="TITLE",t.appendChild(e),t.appendChild(n),t.appendChild(o),d.appendChild(t),o.addEventListener("click",(()=>{a(n),t.reset(),t.style.display="none"}))}()}))})();