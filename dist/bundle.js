(()=>{"use strict";function e(){localStorage.setItem("project",JSON.stringify(d))}function t(){let e=JSON.parse(localStorage.getItem("project"))||[];return console.log(e),d=e,d}class n{constructor(e,t,n,o,d){this.title=e,this.desc=t,this.date=n,this.priority=o,this.project=d}}class o{constructor(e){this.name=e,this.todos=[]}addTask(t){this.todos.push(t),e()}removeTask(t){this.todos=this.todos.filter((e=>e.title!==t)),e()}}let d=[],l=new o("INBOX"),i=new n("Welcome!","Hello There!","01-01-2003","Low","INBOX");l.todos.push(i),d.push(l),e();const a=document.querySelector(".sidebar-container"),c=document.querySelector(".main-screen-container"),s=document.querySelector(".add-project");function r(t){let n;d.includes(t)?(console.log("if"),n=new o(t.name)):(console.log("else"),n=new o(t.value),d.push(n)),e();const l=document.createElement("div");l.classList.add("project-div");const i=document.createElement("h2");i.classList.add("project-name"),i.id=d.indexOf(t);const s=document.createElement("button");s.classList.add("button-add"),s.setAttribute("type","button");const r=document.createElement("div");r.classList.add("new-div"),r.appendChild(s),l.appendChild(i),l.appendChild(r),c.appendChild(l),i.innerText=n.name,s.textContent="ADD TASK +",l.id=i.id,l.style.display="none",function(e,t,n){const o=document.createElement("div"),d=document.createElement("h2");o.appendChild(d),a.appendChild(o),d.classList.add("project-title"),d.classList.add("project-title-hover"),d.innerText=e.name,o.appendChild(d),a.appendChild(o),d.addEventListener("click",(()=>{!function(e,t){e=Array.from(document.querySelectorAll(".project-div"));for(let n=0;n<e.length;n++)console.log(t.id),e[n].id===t.id?e[n].style.display="block":e[n].style.display="none"}(t,n)}))}(n,i,l),s.addEventListener("click",(()=>{n.name==t.name?(console.log("if again"),p(t)):(console.log("else again"),p(n))}))}function p(t){const o=document.createElement("form");o.classList.add("todo-form");let l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("id","new-task");const i=document.createElement("label");i.setAttribute("for","new-task"),i.textContent="Title Of Your Task";let a=document.createElement("textarea");l.setAttribute("id","new-desc"),l.required=!0;const s=document.createElement("label");s.setAttribute("for","new-desc"),s.textContent="Description Of Your Task";let r=document.createElement("input");r.setAttribute("type","date"),r.setAttribute("id","task-date"),l.required=!0;const p=document.createElement("label");p.textContent="DUE-DATE Of Your Task",p.setAttribute("for","task-date");let m=document.createElement("select");m.setAttribute("id","priority"),l.required=!0;const C=document.createElement("label");C.setAttribute("for","priority"),C.textContent="Priority Of Your Task";const h=document.createElement("option");h.setAttribute("name","Low Priority"),h.textContent="Low",m.appendChild(h);const b=document.createElement("option");b.setAttribute("name","Medium Priority"),b.textContent="Medium",m.appendChild(b);const E=document.createElement("option");E.setAttribute("name","High Priority"),E.textContent="High",m.appendChild(E);const f=document.createElement("button");f.setAttribute("type","button"),f.classList.add("add"),f.textContent="ADD +",o.appendChild(i),o.appendChild(l),o.appendChild(s),o.appendChild(a),o.appendChild(p),o.appendChild(r),o.appendChild(C),o.appendChild(m),o.appendChild(f),c.appendChild(o),f.addEventListener("click",(()=>{u(function(t,o,l,i,a){let c;for(let s=0;s<d.length;s++)return"title"in a.todos?(console.log("not-push"),c=new n(t,o,l,i,a.name),e(),console.log(a)):(console.log("push"),c=new n(t,o,l,i,a.name),a.todos.push(c),e(),console.log(a)),c}(l.value,a.value,r.value,m.value,t),t),o.reset(),o.style.display="none"}))}function u(t,o){const l=document.createElement("div");l.classList.add("task-div"),l.id=d.indexOf(o);const i=document.createElement("ul");l.appendChild(i);const a=document.createElement("li");i.appendChild(a);const s=document.createElement("h2");s.textContent=t.title,a.appendChild(s);const r=document.createElement("p");r.textContent=t.desc,l.appendChild(r);const p=document.createElement("p");p.textContent=`${t.date}`,l.appendChild(p);const u=document.createElement("p");u.textContent=`${t.priority}`,l.appendChild(u);const m=document.createElement("button");m.setAttribute("type","button"),m.classList.add("delete-button"),m.textContent="Delete Task",l.appendChild(m);const C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("edit-button"),C.textContent="Edit Task",C.classList.add("edit-task-button"),l.appendChild(C);const h=document.createElement("button");h.setAttribute("type","button"),h.classList.add("complete-button"),h.textContent="Completed!",l.appendChild(h);let b=Array.from(c.children);for(let e=0;e<b.length;e++)b[e].id==l.id&&b[e].appendChild(l);m.addEventListener("click",(()=>{o.todos=o.todos.filter((e=>e.title!==t.title));for(let e=0;e<b.length;e++)b[e].id==l.id&&b[e].removeChild(l);localStorage.removeItem("project"),e(),console.log(d)})),C.addEventListener("click",(()=>{!function(t,o,l,i,a,c,s,r,p,u,m,C){r.innerHTML="";let h=document.createElement("form");h.classList.add("edit-form"),r.appendChild(h);let b=document.createElement("label");b.textContent="Title",b.setAttribute("for","editTitle"),h.appendChild(b);let E=document.createElement("input");E.setAttribute("type","text"),E.setAttribute("id","editLabel"),E.value=t.title,h.appendChild(E);let f=document.createElement("label");f.textContent="Description",f.setAttribute("for","editDesc"),h.appendChild(f);let g=document.createElement("textarea");g.textContent=t.desc,h.appendChild(g);let y=document.createElement("label");y.textContent="Due-Date",y.setAttribute("for","editDate"),h.appendChild(y);let x=document.createElement("input");x.setAttribute("type","date"),x.value=t.date,h.appendChild(x);let A=document.createElement("label");A.textContent="Priority",A.setAttribute("for","editPrior"),h.appendChild(A);let v=document.createElement("select"),L=document.createElement("option");L.setAttribute("name","Low"),L.textContent="Low",v.appendChild(L);let k=document.createElement("option");k.setAttribute("name","Medium"),k.textContent="Medium",v.appendChild(k);let T=document.createElement("option");T.setAttribute("name","High Priority"),T.textContent="High",v.appendChild(T),v.value=t.priority,h.appendChild(v);let w=document.createElement("button");w.textContent="Update Task",w.type="button",h.appendChild(w),w.addEventListener("click",(()=>{h.style.display="none",l.children[0].textContent=E.value,l.appendChild(l.children[0]),i.appendChild(l),r.appendChild(i),u.textContent=g.value,r.appendChild(u),m.textContent=x.value,r.appendChild(m),C.textContent=v.value,r.appendChild(C),r.appendChild(a),r.appendChild(c),r.appendChild(s),function(e,t,o,l,i,a){console.log(i),console.log(a);let c=new n(e,t,o,l,i.project),s=i,r=a.todos.indexOf(s);a.todos.splice(r,1,c),console.log(d)}(E.value,g.value,x.value,v.value,t,o),e()}))}(t,o,a,i,m,C,h,l,0,r,p,u),console.log(o)})),h.addEventListener("click",(()=>{var t,n,o;t=r,n=p,o=u,s.classList.toggle("line"),t.classList.toggle("line"),n.classList.toggle("line"),o.classList.toggle("line"),s.classList.contains("line")?(h.textContent="Not Completed!",h.style.backgroundColor="#db3a34"):(h.textContent="Completed!",h.style.backgroundColor="green"),e()}))}t(),window.onload=t(),function(){let e=d;for(let t=0;t<e.length;t++){console.log(e[t]),r(e[t]);for(let n=0;n<e[t].todos.length;n++)console.log(e[t].todos[n]),u(e[t].todos[n],e[t])}}(),s.addEventListener("click",(()=>{!function(){const e=document.createElement("form");e.classList.add("project-form");const t=document.createElement("label");t.setAttribute("for","new-project");const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","new-project");const o=document.createElement("button");o.setAttribute("type","button"),o.textContent="CREATE PROJECT",t.textContent="TITLE",e.appendChild(t),e.appendChild(n),e.appendChild(o),a.appendChild(e),o.addEventListener("click",(()=>{r(n),e.reset(),e.style.display="none"}))}()}))})();