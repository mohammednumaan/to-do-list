(()=>{"use strict";function t(){localStorage.setItem("project",JSON.stringify(d))}function e(){let t=JSON.parse(localStorage.getItem("project"));d=t;let e="";for(const n in t)e=t[n].name;return console.log(e),e}class n{constructor(t){this.name=t,this.todos=[]}addTask(e){this.todos.push(e),t()}removeTask(e){this.todos=this.todos.filter((t=>t.title!==e)),t()}}new n("DEFAULT");let d=[];class o{constructor(t,e,n,d,o){this.title=t,this.desc=e,this.date=n,this.priority=d,this.project=o}}const i=document.querySelector(".sidebar-container"),l=document.querySelector(".main-screen-container"),a=(document.querySelector(".container"),document.querySelector(".add-project"));e(),window.onload=e,function(){function c(a){const c=new n(a);d.push(c),console.log(d);const s=document.createElement("div");s.classList.add("project-div");const r=document.createElement("h2");r.classList.add("project-name"),r.id=d.indexOf(c);const p=document.createElement("button");p.classList.add("button-add"),p.setAttribute("type","button");const u=document.createElement("div");u.classList.add("new-div"),l.appendChild(s),u.appendChild(p),s.appendChild(r),s.appendChild(u),r.innerText=c.name,p.textContent="ADD TASK +",s.id=r.id,s.style.display="none",function(t,e,n){const d=document.createElement("div"),o=document.createElement("h2");d.appendChild(o),i.appendChild(d),o.classList.add("project-title"),o.classList.add("project-title-hover"),o.innerText=t.name,d.appendChild(o),i.appendChild(d),o.addEventListener("click",(()=>{!function(t,e){t=Array.from(document.querySelectorAll(".project-div"));for(let n=0;n<t.length;n++)t[n].id===e.id?t[n].style.display="block":t[n].style.display="none"}(e,n)}))}(c,s,r),p.addEventListener("click",(()=>{!function(n,i){const a=document.createElement("form");a.classList.add("todo-form");let c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("id","new-task");const s=document.createElement("label");s.setAttribute("for","new-task"),s.textContent="Title Of Your Task";let r=document.createElement("textarea");c.setAttribute("id","new-desc"),c.required=!0;const p=document.createElement("label");p.setAttribute("for","new-desc"),p.textContent="Description Of Your Task";let u=document.createElement("input");u.setAttribute("type","date"),u.setAttribute("id","task-date"),c.required=!0;const m=document.createElement("label");m.textContent="DUE-DATE Of Your Task",m.setAttribute("for","task-date");let C=document.createElement("select");C.setAttribute("id","priority"),c.required=!0;const h=document.createElement("label");h.setAttribute("for","priority"),h.textContent="Priority Of Your Task";const b=document.createElement("option");b.setAttribute("name","Low Priority"),b.textContent="Low",C.appendChild(b);const E=document.createElement("option");E.setAttribute("name","Medium Priority"),E.textContent="Medium",C.appendChild(E);const x=document.createElement("option");x.setAttribute("name","High Priority"),x.textContent="High",C.appendChild(x);const y=document.createElement("button");y.setAttribute("type","button"),y.classList.add("add"),y.textContent="ADD +",a.appendChild(s),a.appendChild(c),a.appendChild(p),a.appendChild(r),a.appendChild(m),a.appendChild(u),a.appendChild(h),a.appendChild(C),a.appendChild(y),l.appendChild(a),y.addEventListener("click",(()=>{!function(n,i,l,a,c,s){let r=new o(i.value,l.value,a.value,c.value,n.name);n.todos.push(r),console.log(d);const p=document.createElement("div");p.classList.add("task-div");const u=document.createElement("ul");p.appendChild(u);const m=document.createElement("li");u.appendChild(m);const C=document.createElement("h2");C.textContent=r.title,m.appendChild(C);const h=document.createElement("p");h.textContent=`${r.desc}`,p.appendChild(h);const b=document.createElement("p");b.textContent=`${r.date}`,p.appendChild(b);const E=document.createElement("p");E.textContent=`${r.priority}`,p.appendChild(E);const x=document.createElement("button");x.setAttribute("type","button"),x.classList.add("delete-button"),x.textContent="Delete This Task",p.appendChild(x);const y=document.createElement("button");y.setAttribute("type","button"),y.classList.add("edit-button"),y.textContent="Edit This Task",y.classList.add("edit-task-button"),p.appendChild(y),s.appendChild(p);const A=document.createElement("button");A.setAttribute("type","button"),A.classList.add("complete-button"),A.textContent="Completed!",p.appendChild(A),t(),e(),x.addEventListener("click",(e=>{!function(t,e,n,o){e.removeTask(o.title),n.removeChild(t.target.parentElement),console.log(d)}(e,n,s,r),t()})),y.addEventListener("click",(()=>{!function(e,n,i,l,a,c,s,r,p,u,m,C){e.innerHTML="";let h=document.createElement("form");h.classList.add("edit-form"),e.appendChild(h);let b=document.createElement("label");b.textContent="Title",b.setAttribute("for","editTitle"),h.appendChild(b);let E=document.createElement("input");E.setAttribute("type","text"),E.setAttribute("id","editLabel"),E.value=n.textContent,h.appendChild(E);let x=document.createElement("label");x.textContent="Description",x.setAttribute("for","editDesc"),h.appendChild(x);let y=document.createElement("textarea");y.textContent=i.textContent,h.appendChild(y);let A=document.createElement("label");A.textContent="Due-Date",A.setAttribute("for","editDate"),h.appendChild(A);let f=document.createElement("input");f.setAttribute("type","date"),f.value=l.textContent,h.appendChild(f);let v=document.createElement("label");v.textContent="Priority",v.setAttribute("for","editPrior"),h.appendChild(v);let L=document.createElement("select"),k=document.createElement("option");k.setAttribute("name","Low"),k.textContent="Low",L.appendChild(k);let g=document.createElement("option");g.setAttribute("name","Medium"),g.textContent="Medium",L.appendChild(g);let T=document.createElement("option");T.setAttribute("name","High Priority"),T.textContent="High",L.appendChild(T),L.value=a.textContent,h.appendChild(L);let w=document.createElement("button");w.textContent="Update Task",w.type="button",h.appendChild(w),w.addEventListener("click",(()=>{h.style.display="none",n.textContent=E.value,c.appendChild(n),s.appendChild(c),e.appendChild(s),i.textContent=y.value,e.appendChild(i),l.textContent=f.value,e.appendChild(l),a.textContent=L.value,e.appendChild(a),e.appendChild(r),e.appendChild(p),e.appendChild(u),function(t,e,n,i,l,a){let c=new o(t.value,e.value,n.value,i.value,l.project),s=l,r=a.todos.indexOf(s);a.todos.splice(r,1,c),console.log(d)}(E,y,f,L,m,C),t()}))}(p,C,h,b,E,m,u,x,y,A,r,n)})),A.addEventListener("click",(()=>{!function(t,e,n,d){t.classList.toggle("line"),e.classList.toggle("line"),n.classList.toggle("line"),d.classList.toggle("line")}(C,h,b,E),C.classList.contains("line")?(A.textContent="Not Completed!",A.style.backgroundColor="#db3a34"):(A.textContent="Completed!",A.style.backgroundColor="green"),t()}))}(n,c,r,u,C,i),a.reset(),a.style.display="none"})),t()}(c,s)})),t()}c(e()),a.addEventListener("click",(()=>{e(),function(){const t=document.createElement("form");t.classList.add("project-form");const e=document.createElement("label");e.setAttribute("for","new-project");const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("id","new-project");const d=document.createElement("button");d.setAttribute("type","button"),d.textContent="CREATE PROJECT",e.textContent="TITLE",t.appendChild(e),t.appendChild(n),t.appendChild(d),i.appendChild(t),d.addEventListener("click",(()=>{c(n.value),t.reset(),t.style.display="none"}))}()}))}()})();